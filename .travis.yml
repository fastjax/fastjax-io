# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- '[ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
   [ "$TRAVIS_BRANCH" = "master" ] &&
   [ "$TRAVIS_PULL_REQUEST" = "false" ] &&
   sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null ||
   true'
- cp settings.xml $HOME/.m2/settings.xml
script:
- '[ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
   [ "$TRAVIS_BRANCH" = "master" ] &&
   [ "$TRAVIS_PULL_REQUEST" = "false" ] &&
   mvn -Dmaven.rtest.skip clean deploy -P deploy ||
   mvn -Dmaven.rtest.skip clean install'
env:
  global:
    secure: flfpTQOw24NpFqRflldJORl3daCuFP0WF/TfgAvtQtTjg7RWqXj+iOjXiAI56xyVgIEJxIM2lOlr9L99Dk7lKEQOWkcliIlyKTz/Mk4Px+AAWKFr3UV2S+WPdAP+9bTYypuxDSGT611Ke093ZLQiM5FeRKQixq++xl2/yg7pl8JSToW+OjPXwmvh9dsWW74O6kA0HT4nX9pk4w1x3LqYncD4bxSyrhUPFtyVhHzsyaxQMIX9rZq4U4pHmPrQsTndYHkKP4zy/yA7hiBAkDYtu7RwnKEFG7T/DbE1AnyNZwzyebZv7DXaU+y9CJ0Yyh3DJKRhNz7B6HjSm8Q/YMjnFmKb1u5XFt3GvN8PFQLHXnbIiXM/qc6CVWLBDtwZzCVORO+Yyb2XhI7xm3PMFQ5VJqq6lP8nL6G8IMJYqM9/huQVgxYoGq0Bb29fRlGI/RectIKetM7ZZd1aD663ocJsSxZL6dZY0uyfFm7eEZee1hAedJb300uK/xxOVSSLpUy811uCuohSo2eoxNKXz/0PYDjdFO0T5eOGjKxsR4xjwqnyyUPdrq9oZaSoiWTi0/wbdvujOQ5vm/RwuTdz2AT5rqT6EhjluMn1rNyAwk3MeMa/xlr6++rChSEhZRVCA7xIDU2Cx3076qx0+MUqXxIZTacnmJALmhDDiFnbHRwBu4I=
    secure: E/7xp6siR+w+KjtMeN7sgH6Zc9Mrq37nwfzbvo7m6qmOsa1iYt01vr2Xso2ratNo3jai7Ays4M62WsuHtbhyurMV7HCw5efZYIS8Bw6hgdV6OWjbvi1VtDPU7SlzAI+SEPNIVlLtlpx0ZRy0vBS3/3eELdrYlMm4iNaOmzOUsaOnJktXbqOCfmsCYU99/8aaqUb+RJpkPt2h+AXOYt2ozOw8GpeuLGswdBlGIgo7NiAT9g/DmsZa0NJ8NBLnj/8LNKvAYOmn35WYMh+zPXhxx6WKBpeTNSbTiYQrzdZoJetpkxcLvkK3sKSiMzFeizI6xHkX0TqylaIOkYBJlEdFIrWF9Conr5YnnhwCvaEIG0R/2k6pYolexYrLXYYnqkrdmMqBNoSbDvnQI15t/DpgqT1+Ps/umR+UqJvI5pcXJO8QteNIAL7EHPEVnMVo//Av3ZbKNvGm3iKwz8S5U5kK9DMwPwS34kh3Tnvhcat2BUm6426hqN85I79rmO4xCN7ulG/sSemhqgk9v93aqBLq3xn2jtdShAUljlaUrcJnAP0yYzAJAC+z59gyA78Rf+0r0po3Ut+RP7mNbNlRQMdtFVHGuAY1VG3Yu7XkGlrRgZWW1xKYzhBXePYAFL3ZLgk9Muhnf0tLLAX6H58bzYiqSfjxESZpixejGaOLzptIPGo=
    secure: eCagh7AvRfFOhWPEtAhs0CK6mBW9H3zCQz5yl7kBi14yzFQ27xurrylO+QEVI7bw9AmNoRCy78PcCg/ECgcE18eHt3QHSCMQbNuTAqPGew6Qk7Y+fBzvJvB5DO675jbGv8OoQGz/ESSrlrrc0swPyHizqjm3Sj/ujZJoQq8OWkGiMwKfIxp39/aMNCG/Z4V4snBiqHkbB6QmeLqDVEhbs1GGlzTZkFBIXuctpWmQ1PcO3uO1rdZ+S2N2z+prTrfLftP/07JKSvvA6beZRnloVnLTtRygtqdSBVWjc5WbZ1Fhf7COD2LWCcvzaj7PCz73vfupQsrtyhYLAwDEL8QUGJeH+7SAtbYGWkOGljcIIZmY7CpWlxcs8ZhEtwL9g43+Hl1V/ivBlNtJFQqkGpUReo+0IwrAhjRoQIix1GwU9myD5p4+bZliwQio9npltactBnZhyDfMu/AwFRTvBF9grVBEddh1UIs9MKIFrfhxLgYpbzywDdwPELP8H0CKamvaR1o5v3vNgn1K9kGWk262lveGvz+HagQiXce0HEZILgrwS9pFzdh3tun3GlEbaZWOdUbVIkWl3okxOcR9s9zgrcBjGeuPJCUOg77yzxS+bBUZzNdPvRC99mbtdmb9MIcpP2CU8t7NPMFQscPzRNp087/4WFmB922620aDVWwcyiY=
    secure: X79eznVhAL9CDrqA55RCwAmhBJ9tmRFsjG2uOQu6XJITbXl7C4J5C2tGD7CiqiIGnkPR32U6xqzyoPXjBmPb03XbWaAO66FgKY1JnIdQXd+EHi/Ho3oiv7mTMXHpKWdyf3k+DqLMdhqPt2rOC1lSBovuPgqO7W1SM61KoiDzMBr/XaXaeIMrDjaMnpb3myNxNigXqx/Rdj/xeTCG7HPECUU3t5/Dbp1lX4lYyVOinmS+IvJNSVAs40fF1ju/lJY70K8Ixe1nyI4vBGFhTDzq6RErIrpuo6U9MHU+JCwHqesGb9rrJIz4COoCfp3CUOTCtBrzQdRpkQ38UAxUrNXTh7xcoCy5bebrdWxNkpHAZueW+8ziQf/GG4jwmXSZ8zwUWo807e23Rs26jwvi9p33A6pLyXeDV51bRcuJ/UWiUSD+58DJMre99ZXCi5NYLQIJnSP1vX4RnpqZncCU/1a1MkukWw7/OQytv70wTZsDhH/V3As0zS8//RLbTqoNn0LJtwmWhWEuir1IcM2/kKSisLhkbi/LrxtobhTJEMnV1TFrkpR4mX8eW6zNG3Ta2cV5Is/oeMg/f6UarhX6gNIZ1exx1wJShEBbhBTyMrUyemhe5W8E0OtmZ6JdPAHzKw0zRT8EToKYPDQ0NuFINZGv105ACSyhi19axmMjF0rS78A=
    secure: LNSFxJMso7WyJ857GqelBOt272GQwHoE8gRiuMpLmP5FiIijRV2cHi2uQE1KqiZSJMcSdg/Ah1dH3GTSzTJ2Gy2ZALc4stQPU5Hj/Yx0oO2ue6hNVkJirZ4RrJWs6jv8eI1UOdveOF5i391KH3ME3ARnEae5sv+9kiAi8lY2CP+jmz5H9DdrVVpFoYxZZocYsivPSCR6+h/zDck4svBSzWpfDzB8kH5ZTybovehKfqMlTQnVqKeE+U7R35mYGF2fD57F+MAP0GSSIn42llQj4d6bIpttd3fTXdkgyIEo5vNncXZthHWpdcWX2g/WY0dMVO5kBaMoHCXUReeQNVVB142BsTnqT5GoqZasPc22eWtK9ljwKGUrZnz017pVIBDPTelIqgGfUlhaHLgVhcRfYVPqnIcRuJrRYaqYZVkrYOeUSvALJ33cdN9F6fpSIV4KhTD08Y5pQs8MJirl/Mq+7HGcsH6KKUeDS3W5LWeONByxeWkAjTXuBZbv8k1qBsABGStO95PAk+/D7BlxbGjqy3CnYFpr6+A+Q7auB2mlQbApAX6qpdRr4nXbv6ZpU3Ll3qTk99l/u/72MKPSWC4zblnMW/0y97zULAxSUheB+sdgPRhkNWbYiXR/tLX9qBeQ4O75qP6E+uthpesjUUk0Z0BiCbjv9OOx3ZuOCbW0BKY=
    secure: QGj4G0PAkXng83+bSfupiqgTUsiY47jtOd56irW7sCR3ac/0cK5vrF5PvYDH6hKtQVz8ZE0rn3B4dN0ZOu6yFLdLYLY8Qpb1dFwHJCcTHiEboRWSL3UmhdqTKvbGMMibD85oTG/J6G9mdXlzGQOryHjbo+ktA5yJwm9hkblDPsUofNKpK72+u0GuS+81KKfNmYQK1w51XczxtcoiQzBoV98UjWhaYj0p+rWxQ2xd3PXX4voqh8++iaQNHzHc2h33fp+6g+qN+dJ0nolteQxWX/4e5EhDOfeDWFSaJ/+R8LADTvKOsp3qx8qu/0WCq053H7+GXc/BGodGDly1XlqP3iT8DO4+YR4EWlzgjR5wDD1a5Z9fjyoZ4kv7UId6q4e+gnwImxghDveJS774pqRhoC68Q3WApbM/1ynkMo8GpoZp9m/KeAHQw1C8379kI8eqVgLF468NwXrNF5kmAZGQ9UpDwR2YCfvBX5JEu67lvIDvSjN5l0syoisPm8YBUuTIyNuqtsPoE6PcVbGC5UM50QX5qp4M2EmZIV/X2iPSkekzFw7mCyZzG3cYXEwAoduzZEJvBcgLqkseK0RNq58HWcH28Lz4ziux/Z2yZroTiEBcDkztLEeGyziAZEuIQBukBjXY8fLac7NtMVodVw6sPwe47u+38pDUzCfX+Th0jUo=
