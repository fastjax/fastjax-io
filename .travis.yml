# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/openjax
script:
- 'if [ "$TRAVIS_COMMIT_MESSAGE" = "Update README.md" ]; then
    return;
  elif [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -Dmaven.rtest.skip clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: q17p5ZmeE/vblkyA0VAqrpFYAnCxlIb2it1ZSOHc7SZzheqc4QeFYeVKAX2t5O99+oPFL2U/DdqN1oFm82dN8tyH87x2CsYim9/62O+CSu4DziQEziT8Hrm3273Mcyee5yb8F3OOHvAyu338pJ7ytM8p5uRjwoxuYeqqrFVOPk5k48CPMzoyKkEjxu534gEKShh0l0mkrWJxivDH/ld8pdBvj3NskJjJ0YsF1XuBMQAcyMVORk975kzdc9e4ffhWiD40iMLJZqDVTpbDl+WTn4XSj0+6CxH1OoJx85M63vyvWDIzS95cMv67/OD3lP65gbrZImvbg5SdO/74pAKN84EsKcf6EQySJ70Z/3Z13h0dhAMsG/gOT9NyTzYhZGBrCSBxCH+rl0D0WU14dV0PQlTwlUL5sR9WV730g+ajO61Bit1WJo5SFcuGii6pzJr1btkRHa8RHbFzF+KNFH66e1W5SfRImac8HW0osRpZwKQE4jUJ69cYglUJEt5kMlYmE2WDQ+qVO0/WQYssACXyutYV/wptT5+S69UBfseEOXhXwnE5YeBmVDgQeX96xtreVH5Wb5lphdzaU/LhOuJNy4hgYrz1yx+sDI/vhWARXzgYTgkbDcV2KBhtEjtgnN2aNtHXuvBYwS3J51OBmNdAJrj/jw0THrs6ydyW+FT76gw=
  - secure: V4o4os5ZOGxqJ8cdUwtcRhw3ekcQe0lawwgXZEmghYPz/5cePwSte/JQ5Q6R+vMt4LobWBwb9B9J0B9B0elSTT+kQASXx/bzo49AziqXMmTeZOxPleUFydtFIUK1EzTjp6Uo0Bhc0MFakDi2FWqpoHdJPySs7/1+9UNS53ZF8scZGGyj6VDA7iKUVga1Re7IZWgAgNg+bnlgI7+ug/vFulj6DZPb9LrGZydDiso7rHahtw6WyzO9K9JIjjSSLEzofoCGGgywVsowIW+ciiEP/ZFZn1jG3E2dIa8yNI1jzwYC68weVEwTIDYWAt82ruH8ns1b1qX6XQMtlVzMGiqKZ6MoyZGZGQqNYalA1OY2LnhXGK1BfeHO55e3fTrS66Tpn5dVV2r1OuoHsO2GWgW0P6o9nVVRpK90/gumlP2Fc5VlasutQrzHyA+n1ql/Y6TZeQ2aVAYZdMdHcqn+Dvl3cXldBt0m+fYxs5uMpL2WIw9qaQbOhVwjw1KP8+5wJIfjyLmldV9mEUaeXkxQ1TLDRaa3UriuwqN7yw1jQZ/GqePfDduvscaWgfblPPElukbSq/RDvDmozAU4JuIFMmCaIKcJXIPGyXh/18bQvbATfRYmF06rGfabU4VvlRvhdX9VvZAew0i4z5eYRIFXA8TU6OiF3b+oRJ/XrJd/CB96IpI=
  - secure: eAj0arA7PK3j1ISP6FUj/k9QXuuH2EVE5kZk4Een3LwuGLm91n8XkQy+ENnSqcoeuTLP/fvF6EV82TfPPtOOzxFElVq4MP39mhvTtgkciIRhOFo90whcUEepizdsEXpMDScdeClmozALEcBg4e10/ECKPz0wXQwdu8+uMdq7muX7XWkI9zWv170B4WpXQhppqGj/yfP78rrDF3nJVXLEcAV8S2/t8oEHbCnu7CRPS0AQdi1ZFnybZFitlWcX6bJ/CbWucGUBI9RPNW2dmnwhL6o6YZEzq+Tj1wYWDPkTp1HggL28QXxGN9dT6KpcYs21qVZ/rndoO1aZDk/ep2XSDzHXAHZiIU73N42TQqwfP51TtQ3B35RgqDOE8Hwq+KVi8vGYz3lAZbw5pyKzXRxn+HJRj96cpjO/KtaN74T17aWqK2Pz3wV2c6KpgEk7kmY6/PSsZtacXUG3HWGDQwpoe+tRmKih6WZRO6nDWvqHKCH9VajPJxj61hO3BSBdbj6IlikJ1iOm2CS6+3Ekqyz7ZjL7rZ/Yf+wV6idE0rt0hxqow+KBgf0eXd8QOp6eT5Ddm4Fl50fnf3ognT5LRM2E7OkMOUPBTmlvgIBIITg55C7J1weZh079brGVRPPxIvuP0GIlAME1akd9LlGYsnBW6zwIA+2xvIf1+8LzbF8lE88=
  - secure: O7snKlGT76oR8R5TarxOVODSGAuqb4Kzog6DaoXb9OLrfCtV/mcqvvQRJwqLOek8zsHMbSwfNoHejJ6S2ay/Uzo/UyZzEm0l0EWdAbQoHCseRd7aKxauuMNXVwPYfZTEI0K0lXzKsXlxeIaBvsLqk8l3UWnIcMptRB+x6FgJVb10VwLQxZk25/DCgA4e9MQmumvTGIVuXh8QpNceCtzGIt3oWCfKL4fbg1p2k8/PTXiQ9WVpHm3bCQrmwrXM/JHpp+kBKlvFbFTviW0da3WMmNobH3ItUwajStf59ktEgba+pIcrNujidD+3zDVoI0/0Ps8lRDKwsHy8jX9+SP8qy3tbXrz3/JiblurLR+MCoFAHmPsH9M1lFBVsWFgilxlPaJfmUWc0Ttu7+u4qkhyy6BW7nXQcOkHIIovxl3Cce91OPB2hVh0pgenXs2OMwfISYUHrW4zyvIazPCB4cYXg+lurXZMy7qp1LePXUC1ZvkUZe+ParzJTmF8CBTrh0PuRjABXc+7VbQfKlkCS+UdQDuSgq05PKXWS/613Y3cJbSs6AQ1m7LTet6BG/aXbbPAQRYxu7OGBG1tAlxImz3jrt/qz3JKu28GpZnjyu0Pek9J4xR+8Rett49/pfTbEB84xnjpBMtJOJmRJlpFYL16GVQrrU7/fZfLblOKhtWGBK4o=
  - secure: MTnE7W68c119AjWVXlsU83M51Yb8jwBh0CvhCEwpmVC/O+F4C14UabwVB/qMgETDKLDJAT0jKBQ5r/b9UPUIhbkv7lYayeYvxnfSCIUp/KVku5I0CWj3DHgfsWjivK8sr+NORJk6RgcZ5mHwOh5Op2Y4RU9t6pGU33NFGbwMLnoBWgREBPBdrTHv0A1AqYlLyiKXdTro8uKSUYjke4PPYO8lUuQlVrviN97/1FtqajA5X7tOe8He09od7g77FH6Jk8xy10g+iILEIDaVSgTaWAiqC718uSngLg8rM+gGr8Ljl2rHNBeZ1YRzvDf28DKJGS1wmomYwwWJlBSAUME0x615ncifM8dFfuuEkLdz67BE66dC1DYLhsYE8InVcbfuTTScua3HHhreRddNb+J3WYys0gcLgdspdJQFfpejrJ4yceLWPxfBUCeIjlCVjcOK8cZJd/ZsxFK8fF4BcrgtiUF/c0EE+wiMu+WjgB6OVLfICP3kXEFN/meLzkld77ggRYzSmUlXyLxQqxzmUpmdePBBkgmcTbO9A6hVVFb9ewODvtX2h3zDLFImWZVJegiOi0RQHWxoX8QIaM8uEhpq5jTjYpftlnhi4OvhBSxs5K/OoHil2MK0vfI9ZqEzwtma3eGuClWzg2ArK3N8is9m88O+gdbIqQqee/IJ37VTtts=
  - secure: kUwgWP4Wo/EeqbrSTqqrOhDpZ0swRT1LnW59Y8o4QDmQVSlzf+JuqlIOUpJrJloIBT50Yqu+MC9lh0+41LW0OSPBBOkL5/9RLjIB63uX9D4DbP/C1YVo+VupzYYpPrDqlP//RzRvFijCyMG06bscL+7pvIhjArIbdaD6eRP71W0ERYxDOg1CzTTuxMfTnZgrC0+4yf239YDdZ07RppT4YFeSjyIX3Pi0q+ZUWldLMjnJDe9oWjYlKMdJxxEsNL8QCr2FNW/FycpnqGSSlLlZCXTniCPZazk4xIGwHF9QmFVRo/kTKsuZPqUWD0miUVG4kLFnBl5sypNsp32h1/X2lJenIzbmiXx+yrKpJINmJaK8/rKYWlAyv2CWY9ISnRcIs6CRtaGpw/qN8ivd+5nOawL0MSepAMlEA/X4LTkddxsHsiiO/t59l5bAxx9h6F4VYpGKa8MY22DU4VVxkHejunhmFNh1nmgZeMNQqx0JZitZGSsSfoES3W0C/el7bqRiND2e9ar8h74KTiAvSNk2dqX0BmD4QNpkKfvUiB8Q4Od8j49ACbnRrP6K6YNidByFHe5pmr0DPEXTmBzPPj5ZsETvz5GqOniP79bSyx8aPmWSM0syr+1IrTGfUR94H5iRhR2EpyLCW8rtlkuMcAMMym28XEXSC/rKQvhyGPxqbz8=
  - secure: FYx4qHKEdqSk9igaexy/MyaNZOAs/pUOWheG0rvDAjxuzkiJtAcLzdk1sczGSlfi1nkL38gHKAvoWh0RetDF0gJ3kJT1jw2B+qOZsOo+zZsQcwU5XxXXR0jc7/YuinQNTP4DlYqdbHyOVyulBTWWuQu3vB0f08dprXbeAsd8m5JiU1tI1cdF9mRJVuwzu1dU8dYWBrT1J7bYOGRou7W0U/uHuzIkRr76BajhyErEL0b+uhghExeBHeoG15Rfv/mQg8O1xKHfXUYR5JezaZnG7zoVnTM08hRTCIdkJqsaaD8cvvLYLUZYDqXrXpze/D8yAx5ogT3jcoB3tB0w1gyP8dR8Vyvh6IAfdm5oE3MgISsNtAHIeDFl8uQRqSEMmxjrCwBT1f5rCRNF9vpGUJ1Co2YHVW1LP3a/AQ/d4opafXpT4EzU5rMCsSboBTZDIrWoJ6XqPnZe9c42N8qmDU/KdILZiDcL2i9NcYT5Gs59QRyRxwm6Ip6FXl8+dPbTmWRJq5rbZ9WinmYOXYLSVA8zfmhwdhhbnVfN8yhcRA9sDZ0ucyHOvDoBF91R4tVAqzeJg8Em0c60JkjCgDnG/g0wQ8AQJWmBxRIZsOZ1gZ4aryAdoGNA/3AaHof1txF2V4ePSIeO1aBjvpcF5GhRixG2FKAiGCXvPgLHzFW74v+v9DU=
